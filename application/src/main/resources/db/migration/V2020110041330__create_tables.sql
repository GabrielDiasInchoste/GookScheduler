create TABLE TB_ADDRESS (
  ADDRESS_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  NAME VARCHAR(255) NOT NULL,
  NUMBER INTEGER NOT NULL,
  DESCRIPTION VARCHAR(255) NOT NULL,
  CEP VARCHAR(255) NOT NULL,
  CREATE_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  LAST_MODIFIED_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  CONSTRAINT pk_tb_address PRIMARY KEY (address_id)
);

create TABLE TB_CANCEL (
  CANCEL_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  DESCRIPTION VARCHAR(255) NOT NULL,
  CANCEL_REQUESTED_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  CANCEL_CONFIRMED_DATE TIMESTAMP WITHOUT TIME ZONE,
  CREATE_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  LAST_MODIFIED_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  CONSTRAINT pk_TB_CANCEL PRIMARY KEY (CANCEL_ID)
);

create TABLE TB_LOCAL (
  LOCAL_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  NAME VARCHAR(255) NOT NULL,
  ADDRESS_ID BIGINT NOT NULL,
  CREATE_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  LAST_MODIFIED_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  CONSTRAINT pk_TB_LOCAL PRIMARY KEY (LOCAL_ID)
);
ALTER TABLE TB_LOCAL ADD CONSTRAINT FK_TB_LOCAL_ON_ADDRESS FOREIGN KEY (address_id) REFERENCES tb_address (address_id);

create TABLE TB_COURT (
  COURT_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  NAME VARCHAR(255) NOT NULL,
  TYPE VARCHAR(255) NOT NULL,
  DESCRIPTION VARCHAR(255) NOT NULL,
  CREATE_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  LAST_MODIFIED_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  local_id BIGINT NOT NULL,
  CONSTRAINT pk_TB_COURT PRIMARY KEY (COURT_ID)
);
ALTER TABLE tb_court ADD CONSTRAINT FK_TB_COURT_ON_LOCAL FOREIGN KEY (local_id) REFERENCES tb_local (local_id);

create TABLE TB_SCHEDULER (
  SCHEDULER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  CUSTOMER_ID VARCHAR(255) NOT NULL,
  STATUS VARCHAR(255) NOT NULL,
  COURT_ID BIGINT NOT NULL,
  CANCEL_ID BIGINT,
  SCHEDULE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  CONFIRM_DATE TIMESTAMP WITHOUT TIME ZONE,
  CREATE_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  LAST_MODIFIED_DATE TIMESTAMP WITHOUT TIME ZONE NOT NULL,
  CONSTRAINT pk_TB_SCHEDULER PRIMARY KEY (SCHEDULER_ID)
);
ALTER TABLE tb_scheduler ADD CONSTRAINT FK_TB_SCHEDULER_ON_CANCEL FOREIGN KEY (cancel_id) REFERENCES tb_cancel (cancel_id);

ALTER TABLE tb_scheduler ADD CONSTRAINT FK_TB_SCHEDULER_ON_COURT FOREIGN KEY (court_id) REFERENCES tb_court (court_id);